services:
  back:
    platform: linux/amd64
    build:
      context: ../..
      dockerfile: prod.dockerfile
      args:
        - DATABASE_URL=${DATABASE_URL}
        - DATABASE_USERNAME=${DATABASE_USERNAME}
        - DATABASE_PASSWORD=${DATABASE_PASSWORD}
        - REDIS_HOST=${REDIS_HOST}
        - REDIS_PASSWORD=${REDIS_PASSWORD}
    image: sjhn/gongnomok-backend:prod-latest
    restart: always
    ports:
      - 8080:8080